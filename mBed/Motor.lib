http://mbed.org/users/simon/code/Motor/#f265e441bcd9
